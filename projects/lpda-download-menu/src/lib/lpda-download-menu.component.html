<ng-container *ngIf="showTitle">
  <h1>Scarica menu</h1>

  <p class="text-muted">Seleziona i menù da esportare.</p>
</ng-container>

<div class="d-flex align-items-center p-2 rounded mb-3">
  <input #checkbox (change)="allMenusSelectedChanged(!allMenusSelected)" id="download_all" type="checkbox">

  <label for="download_all" class="d-flex align-items-center mb-0 ml-1">
    <span style="font-size: 1.15em; font-weight: bold;" class="mr-1">
      Tutti i menù
    </span>

    <span *ngIf="!allMenusSelected" class="d-flex align-items-center">
      <span>{{selected.length}}</span>
      <span>/</span>
      <span title="100%" class="text-success">{{data.length}}</span>
    </span>
  </label>
</div>

<div class="expandable" [ngClass]="{'expanded': !allMenusSelected}">
  <ng-container *ngFor="let datum of data">
    <lib-menu-card (onClick)="selectedChanged()" [menu]="datum"></lib-menu-card>
  </ng-container>
</div>

  <div class="d-flex flex-row mt-2">
    <button [disabled]="!(selected && selected.length > 0)" (click)="downloadSelected.emit()" class="btn btn-primary d-flex align-items-center">
      <i class="fas fa-fw fa-file-download mx-1"></i>
      <span>Scarica</span>
      <span class="ml-1" >({{selected.length}})</span>
    </button>

  </div>
  <p class="text-danger" *ngIf="selected.length == 0">Nessun elemento selezionato</p>
